
<script type="text/javascript">
  $(document).ready(function(){
    $('[data-behaviour~=datepicker]').datepicker();
  })
  $.validate();

  
$("button[data-gender=" + $('#gender_field').val() + "]").addClass('btn-info');
$("#gender-toggle button").click(function() {
  return $('#gender_field').val($(this).data('gender'));
});
</script>

<div id="signup_form">
<div class="row-fluid">
          <div class="span12">
              <h2 class="page-title">Users </h2>
              <span class='span6 offset1'>
              <% unless devise_error_messages!.empty? %>
             <div class='alert alert-error'>
                <%= devise_error_messages! %>
              </div>
              <%end%>
            </span>
          </div>
        </div>
          <div class="row-fluid" >
            <div class='row'>
            <span class="span5 offset2">
            <section class="widget">
          <header>
              <h4><i class="icon-user"></i> Account Profile <small>Create New User </small>
                <button type="button" class="btn btn-danger btn-xs pull-right" onclick="$('#signup_form').hide()">x</button></h4>
          </header>
          <div class="body">
            <%= form_for(resource, :as => resource_name,  :url => registration_path(resource_name)) do |f| %>
             
              <fieldset>          
                <div class="control-group">
                  <label class="control-label">Type</label>
                  <div class="control">
                    <div class="input-prepend input-padding-increased">
                        <span class="add-on">
                            <i class="icon-user icon-large"></i>
                        </span>
                        <%= f.select :role, options_for_select(%w[admin appraisee appraiser]), {:autofocus => true, :prompt => "Select the user type",'data-validation' => "required", :onchage => 'alert(this.value)'}   %>
                        
                    </div>
                  </div>
                </div>
                <div class="control-group">
                  <!-- <label class="control-label">Email</label> -->
                  <div class="control">
                    <div class="input-prepend input-padding-increased">
                        <span class="add-on">
                            <i class="icon-user icon-large"></i>
                        </span>
                        <%= f.email_field :email, :autofocus => true,'data-validation' => "required", :placeholder =>"Your Email Id" %>
                    </div>
                  </div>
                </div>
                <div class="control-group">
                  <!-- <label class="control-label">Password *</label> -->
                  <div class="control">
                    <div class="input-prepend input-padding-increased">
                        <span class="add-on">
                            <i class="icon-lock icon-large"></i>
                        </span>
                        <%= f.password_field :password , :autofocus => true, :placeholder =>"Your Password",'data-validation' => "required" %>
                    </div>
                    </div>
                </div>
                <div class="control-group">
                  <!-- <label class="control-label" >Confirm-Password *</label> -->
                  <div class="control">
                    <div class="input-prepend input-padding-increased">
                        <span class="add-on">
                            <i class="icon-lock icon-large"></i>
                        </span>
                        <%= f.password_field :password_confirmation, :placeholder =>"Password Confirmation", 'data-validation' => "required" %>
                    </div>
                  </div>
                </div>
                <div class="control-group">
                  <!-- <label class="control-label" >First Name *</label> -->
                  <div class="control">
                    <div class="input-prepend input-padding-increased">
                      <span class="add-on">
                            <i class="icon-asterisk icon-large"></i>
                        </span>
                      <%= f.text_field :first_name,:autofocus => true,:class =>"input", 'data-validation' => "required",:placeholder =>"First Name" %>
                    </div>
                  </div>
                </div>
                <div class="control-group no-margin">
                  <!-- <label class="control-label">Last name</label> -->
                  <div class="control">
                    <div class="input-prepend input-padding-increased">
                         <span class="add-on">
                            <i class="icon-asterisk icon-large"></i>
                        </span>
                        <%= f.text_field :last_name,:autofocus => true,:class =>"input", 'data-validation' => "required", :placeholder =>"Last Name" %>
                    </div>
                  </div>
                </div>
                <div class="control-group">
                  <label class="control-label">Gender</label>
                  <span class="control">
                    <span class="input-prepend input-padding-increased">
                      <%= f.hidden_field :gender, :id => 'gender_field' %>
                      <span id="gender-toggle" class="btn-group" data-toggle="buttons-radio">
  <button type="button" class="btn icon-male icon-large" data-gender="M"> Male </button>
  <button type="button" class="btn icon-female icon-large" data-gender="F"> Female </button>
                    </span>
                  </span>
                </span>
              </div>
                <div class="control-group no-margin">
                  <!-- <label class="control-label">Phone Number</label> -->
                  <div class="control">
                    <div class="input-prepend input-padding-increased">
                       <span class="add-on">
                            <i class="icon-mobile-phone icon-large"></i>
                        </span>
                        <%= f.text_field :phone_no,:autofocus => true ,:class =>"input", 'data-validation' => "required"%>
                    </div>
                  </div>
                </div>
              </fieldset>
              <fieldset>
                <legend class="section">Role </legend>
                <div class="control-group ">
                  <label  class="control-label">Select Role </label>
                    <div class="controls controls-row">
                      <%= collection_select(:role_id, :id, Role.all, :id, :name, :prompt => "select role") %>
                      </select>
                    </div>
                </div>
              </fieldset>
              <div class="control-group">
                <label  class="control-label">Select Appraisal Cycle </label>
                <div class="control controls-row">
                  <%= collection_select(:aprsl_cycl_id, :id, AppraisalCycle.all, :id, :start_date, :prompt => "select appraisal cycle") %>
                  </select>
                </div>
              </div>
              <fieldset>
                <legend class="section">Department </legend>
                <div class="control-group">
                  <label  class="control-label">Select Department </label>
                    <div class="controls controls-row">
                      <%= collection_select(:dept_id, :id, Department.all, :id, :name, :prompt => "select department") %>
                      </select>
                    </div>
                  </div>
                <fieldset>
                  <legend class="section">Period</legend>
                    <div class="control-group">
                      <label for="name" class="control-label">Select Start Date <span class="required">*</label>
                      <div class="controls controls-row">
                        <div class="input-append span7">
                          <i class=" add-on icon-calendar"></i>
                          <%= text_field_tag :start_date, nil,'data-behaviour' => 'datepicker', 'data-date-format' => "yyyy-mm-dd",'placeholder' => "Select the start_date", 'data-validation' => "required" %>
                        </div>
                      </div>
                    </div>
              </fieldset>
              </fieldset>
              <div class="form-actions">
                  <%= f.submit "Create User" ,:class =>"btn icon-user btn-block btn-large btn-danger" %><button type="button" class="btn icon-remove-sign btn-block" onclick="$('#signup_form').hide()"> Close </button>
                  <% end %>
              </div>
            </form>
          </div>
        </section>
            </span>
            
          </div>
          </div>
</div>
