<script type="text/javascript">$.validate();</script>
<script type="text/javascript">
   $(document).ready(function () {
   
       $('#new_role').validate({ // initialize the plugin
           rules: {
               user_id_id: {
                   required: true,
               }
           }
       });
   
   });
</script>

<div id="user_role">
  <div class="row-fluid">
    <div class="span12 offset2">
        <h3 class="page-title">Update the Employee Role</h3>
    </div>
  </div>
  
  <div class="row-fluid">
    <div class="span6 offset2">
      <section class="widget">
        <header>
          <h4>Role of Employee<button type="button" class="btn btn-mini btn-danger icon-remove pull-right " onclick="$('#user_role').hide()"></button></h4>
        </header>
        
        <div class="body">
          <%= form_tag("/add_role", method: "post", :id => "new_role", :class => "new_role", :remote => true) do %>
            
            <% if flash[:error] %>
              <div class="flash_notice" id='user_role_errors'>
                <div class="alert alert-error">
                  <a class="close" data-dismiss="alert">Ã—</a> 
                  <%= flash[:error] %>
                </div>
              </div>
            <% end %>

            <div class="control-group">
              <legend class="section">Select the User </legend>
              <div class="controls controls-row">
                <%= collection_select(:user_id, :id, User.all, :id, :first_name, {:prompt => ""},{:data=>{}, :class => "input widget", :style => "width:206px; height:38px;",'data-validation' => "required" }) %>
                </select>
              </div>
            </div>

            <div class="control-group">
              <legend class="section">Select the Role </legend>
                <div class="controls controls-row">
                  <%= collection_select(:role_id, :id, Role.all, :id, :name, {:prompt => ""},{:data => {},:class => "input widget", :style => "width:206px; height:38px;",'data-validation' => "required"}) %>
                  </select>
                </div>
            </div>
               
            <div class="control-group">
              <legend class="section">Select the Appraisal Cycle </legend>
                <div class="controls controls-row">
                  <div class='selectpicker'>
                    <%= collection_select(:aprsl_cycl_id, :id, AppraisalCycle.all, :id, :start_date.strftime('%B %Y'),{:prompt => ""},{:data =>{},:class => "input widget", :style => "width:206px; height:38px;",'data-validation' => "required"}) %>
                    </select>
                  </div>
                </div>
            </div>
            
            <div class="form-actions">
              <input type="submit" value="Add" class="btn btn-primary">
              <button type="button" class="btn icon-remove-sign" onclick="$('#user_role').hide()"> Close</button>
            </div>
          <% end %>
        </div>
      </section>
    </div>
  </div>
</div>
